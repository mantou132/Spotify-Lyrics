{"version":3,"file":"font.js","sources":["../node_modules/@mantou/gem/helper/theme.js","../src/common/theme.ts","../src/common/font.ts"],"sourcesContent":["import { connect, createStore, updateStore } from '../lib/store';\nimport { camelToKebabCase, randomStr } from '../lib/utils';\nconst themeStoreMap = new WeakMap();\n/**获取主题原始值 */\nexport function getThemeStore(theme) {\n    return themeStoreMap.get(theme);\n}\nconst themePropsMap = new WeakMap();\n/**获取 css 变量名 */\nexport function getThemeProps(theme) {\n    return themePropsMap.get(theme);\n}\nconst setThemeFnMap = new WeakMap();\n/**\n * 创建主题，插入 `document.head`\n * https://github.com/mantou132/gem/issues/33\n *\n * @example\n * createTheme({\n *   primaryColor: '#eee',\n * });\n */\nexport function createTheme(themeObj) {\n    const salt = randomStr();\n    const style = document.createElement('style');\n    const store = createStore(themeObj);\n    const theme = {};\n    const props = {};\n    themePropsMap.set(theme, props);\n    themeStoreMap.set(theme, store);\n    const setTheme = () => Object.keys(store).forEach((key) => {\n        if (props[key])\n            return;\n        props[key] = `--${camelToKebabCase(key)}-${salt}`;\n        theme[key] = `var(${props[key]})`;\n    });\n    setThemeFnMap.set(theme, setTheme);\n    setTheme();\n    const getStyle = () => `:root, :host {${Object.keys(store).reduce((prev, key) => prev + `${props[key]}:${store[key]};`, '')}}`;\n    const replace = () => (style.textContent = getStyle());\n    connect(store, replace);\n    replace();\n    (document.head || document.documentElement).append(style);\n    return theme;\n}\n/**\n * 更新主题\n * @param theme 主题\n * @param newThemeObj 新主题\n */\nexport function updateTheme(theme, newThemeObj) {\n    updateStore(getThemeStore(theme), newThemeObj);\n    setThemeFnMap.get(theme)();\n}\nexport function useTheme(themeObj) {\n    const theme = createTheme(themeObj);\n    return [theme, (newThemeObj) => updateTheme(theme, newThemeObj)];\n}\n//# sourceMappingURL=theme.js.map","import { createTheme } from '@mantou/gem/helper/theme';\n\nexport const theme = createTheme({\n  primaryRGB: '30, 215, 96',\n  backgroundRGB: '18, 18, 18',\n  textRGB: '255, 255, 255',\n  blackRGB: '0, 0, 0',\n});\n","import { html } from '@mantou/gem/lib/element';\n\nexport const fontStyle = html`\n  <style>\n    body {\n      font-family:\n        spotify-circular,\n        Helvetica Neue,\n        Helvetica,\n        Arial,\n        Hiragino Kaku Gothic Pro,\n        Meiryo,\n        MS Gothic,\n        sans-serif;\n    }\n    @font-face {\n      font-family: spotify-circular;\n      src:\n        url(https://open.scdn.co/cdn/fonts/CircularSpUIv3T-Light.afd9ab26.woff2) format('woff2'),\n        url(https://open.scdn.co/cdn/fonts/CircularSpUIv3T-Light.2a78c017.woff) format('woff'),\n        url(https://open.scdn.co/cdn/fonts/CircularSpUIv3T-Light.89e4be2e.ttf) format('truetype');\n      font-weight: 200;\n      font-style: normal;\n      font-display: swap;\n    }\n    @font-face {\n      font-family: spotify-circular;\n      src:\n        url(https://open.scdn.co/cdn/fonts/CircularSpUIv3T-Book.3466e0ec.woff2) format('woff2'),\n        url(https://open.scdn.co/cdn/fonts/CircularSpUIv3T-Book.ea8d19db.woff) format('woff'),\n        url(https://open.scdn.co/cdn/fonts/CircularSpUIv3T-Book.a357677a.ttf) format('truetype');\n      font-weight: 400;\n      font-style: normal;\n      font-display: swap;\n    }\n    @font-face {\n      font-family: spotify-circular;\n      src:\n        url(https://open.scdn.co/cdn/fonts/CircularSpUIv3T-Bold.8d0a45cc.woff2) format('woff2'),\n        url(https://open.scdn.co/cdn/fonts/CircularSpUIv3T-Bold.10e93738.woff) format('woff'),\n        url(https://open.scdn.co/cdn/fonts/CircularSpUIv3T-Bold.7eb7d0f7.ttf) format('truetype');\n      font-weight: 700;\n      font-style: normal;\n      font-display: swap;\n    }\n  </style>\n`;\n"],"names":["theme"],"mappings":";AAEA,MAAM,gBAAgB,oBAAI;AAK1B,MAAM,gBAAgB,oBAAI;AAK1B,MAAM,gBAAgB,oBAAI;AAUnB,SAAS,YAAY,UAAU;AAClC,QAAM,OAAO;AACb,QAAM,QAAQ,SAAS,cAAc,OAAO;AAC5C,QAAM,QAAQ,YAAY,QAAQ;AAClC,QAAMA,SAAQ,CAAA;AACd,QAAM,QAAQ,CAAA;AACd,gBAAc,IAAIA,QAAO,KAAK;AAC9B,gBAAc,IAAIA,QAAO,KAAK;AAC9B,QAAM,WAAW,MAAM,OAAO,KAAK,KAAK,EAAE,QAAQ,CAAC,QAAQ;AACvD,QAAI,MAAM,GAAG;AACT;AACJ,UAAM,GAAG,IAAI,KAAK,iBAAiB,GAAG,CAAC,IAAI,IAAI;AAC/C,IAAAA,OAAM,GAAG,IAAI,OAAO,MAAM,GAAG,CAAC;AAAA,EACtC,CAAK;AACD,gBAAc,IAAIA,QAAO,QAAQ;AACjC;AACA,QAAM,WAAW,MAAM,iBAAiB,OAAO,KAAK,KAAK,EAAE,OAAO,CAAC,MAAM,QAAQ,OAAO,GAAG,MAAM,GAAG,CAAC,IAAI,MAAM,GAAG,CAAC,KAAK,EAAE,CAAC;AAC3H,QAAM,UAAU,MAAO,MAAM,cAAc,SAAU;AACrD,UAAQ,OAAO,OAAO;AACtB;AACA,GAAC,SAAS,QAAQ,SAAS,iBAAiB,OAAO,KAAK;AACxD,SAAOA;AACX;AC1CO,MAAM,QAAQ,YAAY;AAAA,EAC/B,YAAY;AAAA,EACZ,eAAe;AAAA,EACf,SAAS;AAAA,EACT,UAAU;AACZ,CAAC;ACLM,MAAM,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;","x_google_ignoreList":[0]}